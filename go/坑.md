#  遇到的坑

## govendor 引起的问题

### open-falcon msyql 重复注册问题
问题: panic: sql: Register called twice for driver mysql
解决: 删除open-falcon项目vendor目录下所以文件夹

详情：
```
panic: sql: Register called twice for driver mysql

goroutine 1 [running]:
database/sql.Register(0x4e86b39, 0x5, 0x5553800, 0x55fd388)
	/usr/local/go/src/database/sql/sql.go:50 +0x1ad
github.com/open-falcon/falcon-plus/vendor/github.com/go-sql-driver/mysql.init.0()
	/Users/breeze/Desktop/code/opt/src/github.com/open-falcon/falcon-plus/vendor/github.com/go-sql-driver/mysql/driver.go:193 +0x5c
github.com/open-falcon/falcon-plus/vendor/github.com/go-sql-driver/mysql.init()
	<autogenerated>:1 +0x7d1
github.com/open-falcon/falcon-plus/modules/api/config.init()
	<autogenerated>:1 +0x4e
github.com/open-falcon/falcon-plus/modules/api/app/model/uic.init()
	<autogenerated>:1 +0x44
github.com/open-falcon/falcon-plus/modules/api/app/helper.init()
	<autogenerated>:1 +0x58
github.com/open-falcon/falcon-plus/modules/api/app/controller/alarm.init()
	<autogenerated>:1 +0x4e
gitlab.goiot.net/sde-base/core-gw/business/logic/monitor.init()
	<autogenerated>:1 +0x6b
gitlab.goiot.net/sde-base/core-gw/business/logic.init()
	<autogenerated>:1 +0x78
gitlab.goiot.net/sde-base/core-gw/business.init()
	<autogenerated>:1 +0x57
main.init()
	<autogenerated>:1 +0x44
```


### grpc 路由重复注册问题
问题：panic: http: multiple registrations for /debug/requests
解决：删除github.com/coreos/etcd 项目里 vendor目录下所以文件夹

详情：
```
panic: http: multiple registrations for /debug/requests

goroutine 1 [running]:
net/http.(*ServeMux).Handle(0x53fccc0, 0x4d59524, 0xf, 0x5387fa0, 0x4d98220)
	/usr/local/go/src/net/http/server.go:2270 +0x627
net/http.(*ServeMux).HandleFunc(0x53fccc0, 0x4d59524, 0xf, 0x4d98220)
	/usr/local/go/src/net/http/server.go:2302 +0x55
net/http.HandleFunc(0x4d59524, 0xf, 0x4d98220)
	/usr/local/go/src/net/http/server.go:2314 +0x4b
golang.org/x/net/trace.init.0()
	/Users/breeze/Desktop/code/opt/src/golang.org/x/net/trace/trace.go:115 +0x42
golang.org/x/net/trace.init()
	<autogenerated>:1 +0x1cd
google.golang.org/grpc.init()
	<autogenerated>:1 +0x9b
github.com/edwardhey/grpc-lb.init()
	<autogenerated>:1 +0x55
gitlab.goiot.net/sde-base/golib/datasource/grpc.init()
	<autogenerated>:1 +0x4e
gitlab.goiot.net/sde-base/core-gw/rpc.init()
	<autogenerated>:1 +0x84
main.init()
	<autogenerated>:1 +0x58
```

